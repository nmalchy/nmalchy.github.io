(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0033ef52"],{"06cc":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"",tag:"section"}},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("base-material-card",{staticClass:"pa-7",attrs:{height:"319"},scopedSlots:t._u([{key:"heading",fn:function(){return[a("div",{staticClass:"display-2 font-weight-light"},[t._v(" Where's a bus stop near me? ")])]},proxy:!0}])},[a("small",[t._v("Location Services Required. If there was no prompt, try refreshing. Checks a vicinity of 500 metres.")]),a("br"),a("v-text-field",{attrs:{label:"Bus Route (Optional)"},on:{keydown:t.clearNearbyFields},model:{value:t.stopNumberNearMe,callback:function(e){t.stopNumberNearMe=e},expression:"stopNumberNearMe"}}),a("br"),a("br"),a("v-card-actions",[a("v-btn",{attrs:{color:"success"},on:{click:t.getStopsNearMe}},[t._v(" Submit ")])],1)],1),t.nearbyRoutesStopNum.length>0?a("v-card",[a("v-card-title",[t._v("Nearby Stops")]),a("br"),t._l(t.nearbyRoutesStopNum,(function(e,s){return a("v-card-text",{key:e},[t._v(" Stop No. "+t._s(t.nearbyRoutesStopNum[s])+". Bus routes at this stop: "),a("span",{domProps:{innerHTML:t._s(t.nearbyRoutes[s])}}),t._v(". Located at "+t._s(t.nearbyRouteOnStreet[s])+" intersecting "+t._s(t.nearbyRouteIntersectingStreet[s])+" and is "+t._s(t.distanceAway[s])+" metres away. ")])})),a("v-card-text",[a("small",[t._v("Disclaimer: Location accuracy error of +/- 5%")])])],2):t._e(),t.locationErrorAlert?a("v-card",[a("v-card-title",[t._v("Incorrect route or the route is not within a 500 meter radius.")]),a("v-card-text",[t._v("Please check the bus route and try again.")])],1):t._e()],1),a("v-col",{attrs:{cols:"6"}},[a("base-material-card",{staticClass:"pa-7",scopedSlots:t._u([{key:"heading",fn:function(){return[a("div",{staticClass:"display-2 font-weight-light"},[t._v(" When's my next bus? ")])]},proxy:!0}])},[a("v-text-field",{attrs:{label:"Bus Stop Number"},on:{keydown:t.clearFields},model:{value:t.stopNumber,callback:function(e){t.stopNumber=e},expression:"stopNumber"}}),a("v-text-field",{attrs:{label:"Bus Route Number"},on:{keydown:t.clearFields},model:{value:t.busRouteNumber,callback:function(e){t.busRouteNumber=e},expression:"busRouteNumber"}}),a("v-card-actions",[a("v-btn",{attrs:{color:"success"},on:{click:t.getNextBus}},[t._v(" Submit ")])],1)],1),t.allBusLoaded?a("v-card",[a("v-card-title",[t._v("Next Buses")]),a("br"),t._l(t.estArrival,(function(e,s){return a("v-card-text",{key:s},[t._v(" The "+t._s(t.bus[s])+" is estimated to arrive at "+t._s(e)+" ")])})),a("v-card-text",[a("small",[t._v("Disclaimer: Your bus may arrive 5-10 minutes early and will NOT wait at the stop to leave at the proper time, arrive early to avoid this common occurrence.")])])],2):t._e(),t.specificBusLoaded?a("v-card",[a("v-card-title",[t._v("Next "+t._s(t.bus)+" Buses")]),a("br"),t._l(t.estArrival,(function(e){return a("v-card-text",[t._v(" The "+t._s(t.bus)+" is estimated to arrive at "+t._s(e)+" ")])})),a("v-card-text",[a("small",[t._v("Disclaimer: Your bus may arrive 5-10 minutes early and will NOT wait at the stop to leave at the proper time, arrive early to avoid this common occurrence.")])])],2):t._e(),t.errorAlert?a("v-card",[a("v-card-title",[t._v("Incorrect or Missing Route/Stop #")]),a("v-card-text",[t._v("Please check the stop number or bus route and try again.")])],1):t._e()],1)],1),a("v-footer",{staticClass:"font-weight-medium"},[a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t._v(" Data provided by:"),a("a",{attrs:{href:"https://developer.translink.ca/",target:"_blank"}},[t._v("https://developer.translink.ca/")])]),a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t._v(" Source Code:"),a("a",{attrs:{href:"https://github.com/nmalchy/my_portfolio/blob/master/src/views/dashboard/pages/TranslinkBusLocator.vue",target:"_blank"}},[t._v("https://github.com/nmalchy/my_portfolio/blob/master/src/views/dashboard/pages/TranslinkBusLocator.vue")])])],1)],1)],1)},r=[],o=(a("99af"),a("4de4"),a("caad"),a("d81d"),a("d3b7"),a("25f0"),a("2532"),a("bc3a")),i=a.n(o),n={name:"TranslinkProject",data:function(){return{stopNumber:"",apiKey:"1jbdaevnaKMeJMP5LVwC",busData:[],bus:[],busRouteNumber:"",stopNumberNearMe:"",estArrival:[],allBusLoaded:!1,specificBusLoaded:!1,errorAlert:!1,locationErrorAlert:!1,lat:"",lng:"",nearbyRoutes:[],nearbyRoutesStopNum:[],nearbyRouteOnStreet:[],nearbyRouteIntersectingStreet:[],distanceAway:[]}},methods:{getNextBus:function(){var t=this;i.a.defaults.headers.common={accept:"application/json"},this.busRouteNumber.length>0?i.a.get("https://api.translink.ca/rttiapi/v1/stops/".concat(this.stopNumber,"/estimates?apikey=").concat(this.apiKey,"&timeframe=120&count=3&routeNo=").concat(this.busRouteNumber)).then((function(e){return t.busData=e.data})).then((function(){t.bus="",t.estArrival=[],t.specificBusLoaded=!1,t.busData[0].Schedules.map((function(e){t.bus=t.busData[0].RouteNo,t.estArrival.push(e.ExpectedLeaveTime)})),t.errorAlert=!1,t.specificBusLoaded=!0})).catch((function(e){t.errorAlert=!0,console.log("error",e)})):i.a.get("https://api.translink.ca/rttiapi/v1/stops/".concat(this.stopNumber,"/estimates?apikey=").concat(this.apiKey)).then((function(e){return t.busData=e.data})).then((function(){t.bus=[],t.estArrival=[],t.allBusLoaded=!1;for(var e=function(e){t.busData[e].Schedules.map((function(a){t.bus.push(t.busData[e].RouteNo),t.estArrival.push(a.ExpectedLeaveTime)}))},a=0;a<t.busData.length;a++)e(a);t.errorAlert=!1,t.allBusLoaded=!0})).catch((function(e){t.errorAlert=!0,console.log("error",e)}))},clearFields:function(){this.allBusLoaded=!1,this.specificBusLoaded=!1,this.bus=[],this.estArrival=[]},clearNearbyFields:function(){this.nearbyRoutes=[],this.nearbyRoutesStopNum=[],this.nearbyRouteOnStreet=[],this.nearbyRouteIntersectingStreet=[],this.distanceAway=[]},getStopsNearMe:function(){var t=this;i.a.defaults.headers.common={accept:"application/json"},this.$getLocation({enableHighAccuracy:!1}).then((function(e){t.lat=e.lat.toString().substr(0,7),t.lng=e.lng.toString().substr(0,7),i.a.get("https://api.translink.ca/rttiapi/v1/stops?apikey=".concat(t.apiKey,"&lat=").concat(t.lat,"&long=").concat(t.lng,"&radius=500")).then((function(e){if(t.stopNumberNearMe.length>0){var a=e.data.filter((function(e){return e.Routes.includes(t.stopNumberNearMe)}));a.length>0?(t.locationErrorAlert=!1,a.map((function(e){t.nearbyRoutes.push(e.Routes),t.nearbyRoutesStopNum.push(e.StopNo),t.nearbyRouteOnStreet.push(e.OnStreet),t.nearbyRouteIntersectingStreet.push(e.AtStreet),t.distanceAway.push(e.Distance)}))):t.locationErrorAlert=!0}else t.locationErrorAlert=!1,e.data.map((function(e){e.Routes.length>0?t.nearbyRoutes.push(e.Routes):t.nearbyRoutes.push('No routes for some reason, check <a href="https://alerts.translink.ca/" target="blank">https://alerts.translink.ca/</a> to inquire further'),t.nearbyRoutesStopNum.push(e.StopNo),t.nearbyRouteOnStreet.push(e.OnStreet),t.nearbyRouteIntersectingStreet.push(e.AtStreet),t.distanceAway.push(e.Distance)}))})).catch((function(e){t.locationErrorAlert=!0,console.log("error",e)}))}))}}},c=n,u=a("2877"),l=a("6544"),p=a.n(l),d=a("8336"),h=a("b0af"),b=a("99d9"),f=a("62ad"),v=a("a523"),m=a("553a"),y=a("0fd9"),g=a("8654"),N=Object(u["a"])(c,s,r,!1,null,null,null);e["default"]=N.exports;p()(N,{VBtn:d["a"],VCard:h["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:f["a"],VContainer:v["a"],VFooter:m["a"],VRow:y["a"],VTextField:g["a"]})},"3a66":function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var s=a("fe6c"),r=a("58df");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(r["a"])(Object(s["b"])(["absolute","fixed"])).extend({name:"applicationable",props:{app:Boolean},computed:{applicationProperty:function(){return t}},watch:{app:function(t,e){e?this.removeApplication(!0):this.callUpdate()},applicationProperty:function(t,e){this.$vuetify.application.unregister(this._uid,e)}},activated:function(){this.callUpdate()},created:function(){for(var t=0,a=e.length;t<a;t++)this.$watch(e[t],this.callUpdate);this.callUpdate()},mounted:function(){this.callUpdate()},deactivated:function(){this.removeApplication()},destroyed:function(){this.removeApplication()},methods:{callUpdate:function(){this.app&&this.$vuetify.application.register(this._uid,this.applicationProperty,this.updateApplication())},removeApplication:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(t||this.app)&&this.$vuetify.application.unregister(this._uid,this.applicationProperty)},updateApplication:function(){return 0}}})}},"553a":function(t,e,a){"use strict";a("a9e3"),a("c7cd");var s=a("5530"),r=(a("b5b6"),a("8dd9")),o=a("3a66"),i=a("d10f"),n=a("58df"),c=a("80d2");e["a"]=Object(n["a"])(r["a"],Object(o["a"])("footer",["height","inset"]),i["a"]).extend({name:"v-footer",props:{height:{default:"auto",type:[Number,String]},inset:Boolean,padless:Boolean,tag:{type:String,default:"footer"}},computed:{applicationProperty:function(){return this.inset?"insetFooter":"footer"},classes:function(){return Object(s["a"])(Object(s["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-footer--absolute":this.absolute,"v-footer--fixed":!this.absolute&&(this.app||this.fixed),"v-footer--padless":this.padless,"v-footer--inset":this.inset})},computedBottom:function(){if(this.isPositioned)return this.app?this.$vuetify.application.bottom:0},computedLeft:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.left:0},computedRight:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.right:0},isPositioned:function(){return Boolean(this.absolute||this.fixed||this.app)},styles:function(){var t=parseInt(this.height);return Object(s["a"])(Object(s["a"])({},r["a"].options.computed.styles.call(this)),{},{height:isNaN(t)?t:Object(c["g"])(t),left:Object(c["g"])(this.computedLeft),right:Object(c["g"])(this.computedRight),bottom:Object(c["g"])(this.computedBottom)})}},methods:{updateApplication:function(){var t=parseInt(this.height);return isNaN(t)?this.$el?this.$el.clientHeight:0:t}},render:function(t){var e=this.setBackgroundColor(this.color,{staticClass:"v-footer",class:this.classes,style:this.styles});return t(this.tag,e,this.$slots.default)}})},b5b6:function(t,e,a){}}]);
//# sourceMappingURL=chunk-0033ef52.ebe4ba6d.js.map